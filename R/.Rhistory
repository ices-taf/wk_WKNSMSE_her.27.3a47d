windows()
xrange <- c(1963,yr-1); yrange <- range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,],1963,yr-1),col=an(iAge)+1,lwd=3)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste(NSH@name,"Natural mortality"))
#- Presentation year
yr        <- 2018
#- Picture settings
cl        <- 1.5
ca        <- 1.2
fam       <- ""
fonts     <- 2
parmar    <- rep(0.4,4)
paroma    <- (c(4,4,1,1)+0.1)
mtextline <- 4
ltextcex  <- 1.2
figtype   <- "emf"
dataPath  <- "D:/OneDrive/OneDrive - WageningenUR/projects/WG/HAWG2018/2018/historical assessment R objects/"
outPath   <- paste("W:/IMARES/Data/ICES-WG/Haring werkgroep HAWG/",yr,"/EZ/figures/",sep="")
#outPath   <- paste("D:/OneDrive/OneDrive - WageningenUR/projects/WG/HAWG2018/2018/new/EZ/figures/",sep="")
windows()
#- 2018
load(file.path(dataPath,"NSH_2018_mf.RData"))
NSHSAM_mf_2018 <- NSH3f.sam
#- 2018
load(file.path(dataPath,"NSH_2018.RData"))
NSH_2018 <- NSH
NSHSAM_sf_2018 <- NSH.sam
ssb_2018 <- ssb(NSH.sam)
fbar_2018 <- fbar(NSH.sam)
#- 2017 benchmark final
load(file.path(dataPath,"NSH_2017_bench_final.RData"))
NSH_2017_final_bench <- NSH
yr <- 2018
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
yr <- 2018
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
yr <- 2018
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
c(yr-1)
window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)]
iAge
NSH@m[iAge,]
window(NSH@m[iAge,],1963,yr-1)
yr-1
NSH@m
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
windows()
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
outPath   <- paste("D:/OneDrive/OneDrive - WageningenUR/projects/WG/HAWG2018/2018/new/EZ/figures/",sep="")
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=2)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=1)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
outPath
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
NSH <- NSH_2017_newM
#NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,]+0.05,1963,yr-1),col=an(iAge)+1,lwd=3,lty=1)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
yr <- 2017
#NSH <- NSH_2013
#NSH <- NSH_2016
#NSH <- NSH_2017_newM
NSH <- NSH_2017_final_bench
xrange <- c(1963,yr-1); yrange <- cbind(0,1.4)#range(pretty(c(0,max(NSH@m,na.rm=T))))
par(oma=paroma,yaxs="i")
plot(0,0,col="white",xlim=xrange,ylim=yrange,xlab="Years",ylab="",
cex.lab=cl,cex.axis=ca,font.lab=fonts,font=fonts,las=1)
mtext(side=2,line=mtextline,text="Natural mortality (per yr)",cex=cl,font=fonts)
for(iAge in dimnames(NSH@m)$age){
lines(x=c(1963:(yr-1)),y=window(NSH@m[iAge,],1963,yr-1),col=an(iAge)+1,lwd=3,lty=1)
text(x=c(yr-1),y=window(NSH@m[iAge,],1963,yr-1)[,ac(yr-1)],labels=iAge,col=an(iAge)+1,font=fonts,adj=c(-0.5,0))
}
title(main=paste("Natural mortality"))
#savePlot(paste(outPath,"Natural mortality_2014",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2016",sep=""),type=figtype)
#savePlot(paste(outPath,"Natural mortality_2017_newM",sep=""),type=figtype)
savePlot(paste(outPath,"Natural mortality_2017_final_bench",sep=""),type=figtype)
#------------------------------------------------------
#
# Script to produce pictures for HAWG EL&I presentation
#
# By Niels Hintzen
#
# Date: 30-march-2012
#
#
# Runs with R2.13.2
#
#------------------------------------------------------
rm(list=ls())
library(FLSAM)
library(vmstools)
#- Presentation year
yr        <- 2018
#- Picture settings
cl        <- 1.5
ca        <- 1.2
fam       <- ""
fonts     <- 2
parmar    <- rep(0.4,4)
paroma    <- (c(4,4,1,1)+0.1)
mtextline <- 4
ltextcex  <- 1.2
figtype   <- "emf"
#- Path settings
#dataPath  <- "D:/Repository/ICES_HAWG/wg_HAWG/NSAS"
dataPath  <- "D:/git/wg_HAWG/NSAS/"
#outPath   <- paste("W:/IMARES/Data/ICES-WG/Haring werkgroep HAWG/",yr,"/EZ/figures/",sep="")
outPath   <- paste("D:/OneDrive/OneDrive - WageningenUR/projects/WG/HAWG2018/2018/new/EZ/figures/",sep="")
#- Load the output of the assessment
load(file.path(dataPath,"/results/NSH_HAWG2018_sf.RData"))
SSB(NSH.sam)
ssb(NSH.sam)
plot(x=c(0,0.8,1.4,2.6),
y=c(0.1,0.1,0.26,0.26),
type="l",
ylim=c(0,0.4),
lwd=2,
xlab="SSB in million tonnes",
ylab="Fbar",
cex.lab=1.3,
main="Management plan North Sea Herring")
abline(v=0.8,col="red",lwd=2,lty=2)
abline(v=0.9,col="blue",lwd=2,lty=2)
abline(v=1.4,col="darkgreen",lwd=2,lty=2)
text(0.8,0.08,labels=expression(B[lim]),col="red",cex=1.3,pos=2)
text(1.2,0.08,labels=expression(B[pa]),col="blue",cex=1.3,pos=2)
text(1.4,0.08,labels=expression(B[trigger]),col="darkgreen",cex=1.3,pos=4)
points(y=fbar(NSH[,ac(2008:2016)]), x=(ssb(NSH[,ac(2008:2016)])/1e6),pch=19)
lines(y=fbar(NSH[,ac(2008:2016)]),  x=(ssb(NSH[,ac(2008:2016)])/1e6))
text(y=fbar(NSH[,ac(2008:2016)]),   x=(ssb(NSH[,ac(2008:2016)])/1e6),labels=ac(2008:2016),pos=3,cex=0.7)
points(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6,pch=19,col="red")
text(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6+0.15,pch=19,col="red",labels="2017",font=2)
------------------------------------------------------
load(file.path(dataPath,"stf/ShortTermForecast multifleetmode_noWBSS.RData"))
row.names(stf.table)[2:nrow(stf.table)] <- c("Management plan",
"No change in A-fleet TAC",
"TAC -15%",
"TAC +15%",
"Fmsy",
"FmsyAR",
"fpa",
"flim",
"F2018",
"Bpa",
"Blim",
"MSYBtrigger",
"F=0")
plot(x=c(0,0.8,1.4,2.6),
y=c(0.1,0.1,0.26,0.26),
type="l",
ylim=c(0,0.4),
lwd=2,
xlab="SSB in million tonnes",
ylab="Fbar",
cex.lab=1.3,
main="Management plan North Sea Herring")
abline(v=0.8,col="red",lwd=2,lty=2)
abline(v=0.9,col="blue",lwd=2,lty=2)
abline(v=1.4,col="darkgreen",lwd=2,lty=2)
text(0.8,0.08,labels=expression(B[lim]),col="red",cex=1.3,pos=2)
text(1.2,0.08,labels=expression(B[pa]),col="blue",cex=1.3,pos=2)
text(1.4,0.08,labels=expression(B[trigger]),col="darkgreen",cex=1.3,pos=4)
points(y=fbar(NSH[,ac(2008:2016)]), x=(ssb(NSH[,ac(2008:2016)])/1e6),pch=19)
lines(y=fbar(NSH[,ac(2008:2016)]),  x=(ssb(NSH[,ac(2008:2016)])/1e6))
text(y=fbar(NSH[,ac(2008:2016)]),   x=(ssb(NSH[,ac(2008:2016)])/1e6),labels=ac(2008:2016),pos=3,cex=0.7)
points(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6,pch=19,col="red")
text(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6+0.15,pch=19,col="red",labels="2017",font=2)
plot(x=c(0,0.8,1.4,2.6),
y=c(0.1,0.1,0.26,0.26),
type="l",
ylim=c(0,0.4),
lwd=2,
xlab="SSB in million tonnes",
ylab="Fbar",
cex.lab=1.3,
main="Management plan North Sea Herring")
abline(v=0.8,col="red",lwd=2,lty=2)
abline(v=0.9,col="blue",lwd=2,lty=2)
abline(v=1.4,col="darkgreen",lwd=2,lty=2)
text(0.8,0.08,labels=expression(B[lim]),col="red",cex=1.3,pos=2)
text(1.2,0.08,labels=expression(B[pa]),col="blue",cex=1.3,pos=2)
text(1.4,0.08,labels=expression(B[trigger]),col="darkgreen",cex=1.3,pos=4)
points(y=fbar(NSH[,ac(2008:2017)]), x=(ssb(NSH[,ac(2008:2017)])/1e6),pch=19)
lines(y=fbar(NSH[,ac(2008:2017)]),  x=(ssb(NSH[,ac(2008:2017)])/1e6))
text(y=fbar(NSH[,ac(2008:2017)]),   x=(ssb(NSH[,ac(2008:2017)])/1e6),labels=ac(2008:2017),pos=3,cex=0.7)
points(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6,pch=19,col="red")
text(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6+0.15,pch=19,col="red",labels="2017",font=2)
plot(x=c(0,0.8,1.4,2.6),
y=c(0.1,0.1,0.26,0.26),
type="l",
ylim=c(0,0.4),
lwd=2,
xlab="SSB in million tonnes",
ylab="Fbar",
cex.lab=1.3,
main="Management plan North Sea Herring")
abline(v=0.8,col="red",lwd=2,lty=2)
abline(v=0.9,col="blue",lwd=2,lty=2)
abline(v=1.4,col="darkgreen",lwd=2,lty=2)
text(0.8,0.08,labels=expression(B[lim]),col="red",cex=1.3,pos=2)
text(1.2,0.08,labels=expression(B[pa]),col="blue",cex=1.3,pos=2)
text(1.4,0.08,labels=expression(B[trigger]),col="darkgreen",cex=1.3,pos=4)
points(y=fbar(NSH[,ac(2008:2017)]), x=(ssb(NSH[,ac(2008:2017)])/1e6),pch=19)
lines(y=fbar(NSH[,ac(2008:2017)]),  x=(ssb(NSH[,ac(2008:2017)])/1e6))
text(y=fbar(NSH[,ac(2008:2017)]),   x=(ssb(NSH[,ac(2008:2017)])/1e6),labels=ac(2008:2017),pos=3,cex=0.7)
points(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6,pch=19,col="red")
text(y=stf.table["intermediate year","Fbar 2-6","50%"],x=stf.table["intermediate year","SSB","50%"]/1e6+0.15,pch=19,col="red",labels="2018",font=2)
savePlot(paste(outPath,"Management_plan",sep=""),type=figtype)
file.path(Sys.getenv("R_HOME"),"bin")
file.path(Sys.getenv("R_HOME"),"bin")
.libPaths()
install.packages("dtw")
dep.pck <- c("data.table", "ggplot2", "pbapply", "rgdal", "rgeos", "rJava", "sp", "XML")
install.packages(dep.pck, repos="http://cran.us.r-project.org", type="binary")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages("rgdal")
install.packages("rJava")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
.libPaths()
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages("data.table")
install.packages("rgdal")
install.packages("XML")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages("rgdal")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jre7') # for 64-bit version
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jre1.8.0_162') # for 64-bit version
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jre1.8.0_171') # for 64-bit versio
library(rJava)
JAVA_HOME
library(rJava)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_171\jre') # for 64-bit versio
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_171\\jre') # for 64-bit versio
library(rJava)
install.packages("rJava")
library(rJava)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_171\\jre')
library("rJava")
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jdk1.8.0_171\\jre')
library("rJava")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
library("rJava")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
library("rJava")
.libPaths()
library("rJava")
install.packages("rJava")
install.packages("rJava")
install.packages("XML")
install.packages("XML")
install.packages("ftp://ftp.imr.no/StoX/Download/Rstox/Rstox_1.9.tar.gz", repos=NULL)
install.packages(“TMB”)
install.packages("TMB")
install.packages("TMB")
install.packages("TMB")
install.packages("TMB")
.libpath()
libpath()
libPaths()
.libPaths()
.libPaths() = "C:/Program Files/R/R-3.4.3/library"
.libPaths("C:/Program Files/R/R-3.4.3/library")
.libPaths()
install.packages("TMB")
install.packages("TMB")
.libPaths()
.libPaths("C:/Program Files/R/R-3.4.3/library")
.libPaths()
install.packages("TMB")
install.packages("TMB")
.libPaths()
.libPaths("C:/Program Files/R/R-3.4.3/library")
.libPaths("C:/Program Files/R/R-3.5.1/library")
.libPaths()
install.packages("TMB")
library("Rtools)
library("Rtools)
library(Rtools)
library("Rtools")
.libPaths()
.libPaths("C:/Program Files/R/R-3.5.1/library")
find.package("devtools")
install.packages("devtools")
find.package("devtools")
library(devtools)
find_rtools()
.libPaths()
.libPaths(c("C:/Program Files/R/R-3.5.1/library","C:/RBuildTools/3.4"))
library(Rtools)
.libPaths()
.libPaths("C:/Program Files/R/R-3.5.1/library")
.libPaths()
library(devtools)
find_rtools()
library(devtools)
requires(devtools)
require(devtools)
find_rtools()
library(Rtools)
install.packages("devtools")
.libPaths
.libPaths()
.libPaths("C:/Program Files/R/R-3.5.1/library")
install.packages("devtools")
library(devtools)
find_rtools()
#-------------------------------------------------------------------------------
# WKNSMSE2018
#
# Author: Niels Hintzen
#         IMARES, The Netherland
#
#  MSE of North Sea Herring
#
# Date: 2018/11/18
#
# Build for R3.4.3, 64bits
#-------------------------------------------------------------------------------
#-------------------------------------------------------------------------------
# WKNSMSE
#
# Author: Niels Hintzen
#         IMARES, The Netherland
#
#  MSE of North Sea Herring
#
# Date: 2018/11/18
#
# Build for R3.4.3, 64bits
#-------------------------------------------------------------------------------
rm(list=ls())
library(FLSAM)
library(FLEDA)
#path          <- "D:/Work/Herring MSE/NSAS/"
path              <- "D:/git/wk_WKNSMSE_her.27.3a47d/R/"
assessment_name   <- "NSAS_WKNSMSE2018"
try(setwd(path),silent=TRUE)
# paths to different subfolders
dataPath      <- file.path(".","data/")
outPath       <- file.path(".","results/")
scriptPath    <- file.path(".","side_scripts/")
#- Load objects
load(file.path(outPath,paste0(assessment_name,'_mf.Rdata')))
load(file.path(outPath,paste0(assessment_name,'_sf.Rdata')))
NSH.sam@params
NSH.sam@params$names
NSH.sam@params$name
unique(NSH.sam@params$name)
